<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.JFXButton?>
<?import com.jfoenix.controls.JFXTextArea?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="700.0" prefWidth="800.0" style="-fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);" xmlns="http://javafx.com/javafx/18" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.hasib.bloodbank.UserProfileController">
   <children>
      <!-- Header with Title -->
      <Rectangle arcHeight="20.0" arcWidth="20.0" fill="linear-gradient(to right, #dc3545, #c82333)" height="60.0" layoutX="0.0" layoutY="0.0" width="800.0" />
      <Label layoutX="30.0" layoutY="15.0" text="🩸 Donor Profile" style="-fx-font-weight: bold; -fx-text-fill: white;">
         <font>
            <Font size="24.0" />
         </font>
      </Label>

      <!-- Profile Information Card -->
      <Rectangle arcHeight="20.0" arcWidth="20.0" fill="#ffffff" height="280.0" layoutX="30.0" layoutY="80.0" stroke="#dee2e6" strokeWidth="1.5" width="740.0" style="-fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.15), 8, 0, 0, 3);" />

      <!-- Profile Picture Section -->
      <Rectangle arcHeight="15.0" arcWidth="15.0" fill="linear-gradient(to bottom, #6c757d, #495057)" height="100.0" layoutX="60.0" layoutY="110.0" width="100.0" />
      <ImageView fitHeight="60.0" fitWidth="60.0" layoutX="80.0" layoutY="130.0" pickOnBounds="true" preserveRatio="true">
         <image>
            <Image url="@img/icons8-name-48.png" />
         </image>
      </ImageView>
      <Label layoutX="60.0" layoutY="220.0" text="Donor" style="-fx-font-weight: bold; -fx-text-fill: #6c757d; -fx-alignment: center;" prefWidth="100.0">
         <font>
            <Font size="14.0" />
         </font>
      </Label>

      <!-- Personal Information Section -->
      <Label layoutX="200.0" layoutY="95.0" text="📋 Personal Information" style="-fx-font-weight: bold; -fx-text-fill: #495057;">
         <font>
            <Font size="16.0" />
         </font>
      </Label>

      <VBox layoutX="200.0" layoutY="125.0" spacing="15.0">
         <children>
            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <children>
                  <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@img/icons8-name-48.png" />
                     </image>
                  </ImageView>
                  <Label text="Full Name:" style="-fx-font-weight: bold; -fx-text-fill: #6c757d;" prefWidth="120.0">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
                  <Label fx:id="name" style="-fx-text-fill: #212529; -fx-font-weight: bold;" prefWidth="200.0">
                     <font>
                        <Font size="15.0" />
                     </font>
                  </Label>
               </children>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <children>
                  <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@img/bloodtype_FILL0_wght400_GRAD0_opsz48.png" />
                     </image>
                  </ImageView>
                  <Label text="Blood Type:" style="-fx-font-weight: bold; -fx-text-fill: #6c757d;" prefWidth="120.0">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
                  <Label fx:id="bloodGroup" style="-fx-text-fill: #dc3545; -fx-font-weight: bold; -fx-background-color: #ffe6e6; -fx-padding: 5 10; -fx-background-radius: 15;" prefWidth="200.0">
                     <font>
                        <Font size="16.0" />
                     </font>
                  </Label>
               </children>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <children>
                  <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@img/icons8-gender-64.png" />
                     </image>
                  </ImageView>
                  <Label text="Gender:" style="-fx-font-weight: bold; -fx-text-fill: #6c757d;" prefWidth="120.0">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
                  <Label fx:id="gender" style="-fx-text-fill: #212529;" prefWidth="200.0">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
               </children>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <children>
                  <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@img/icons8-thursday-48.png" />
                     </image>
                  </ImageView>
                  <Label text="Date of Birth:" style="-fx-font-weight: bold; -fx-text-fill: #6c757d;" prefWidth="120.0">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
                  <Label fx:id="dateOfBirth" style="-fx-text-fill: #212529;" prefWidth="200.0">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
               </children>
            </HBox>
         </children>
      </VBox>

      <!-- Contact Information Section -->
      <VBox layoutX="520.0" layoutY="125.0" spacing="15.0">
         <children>
            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <children>
                  <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@img/icons8-mail-482.png" />
                     </image>
                  </ImageView>
                  <Label text="Email:" style="-fx-font-weight: bold; -fx-text-fill: #6c757d;" prefWidth="80.0">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
                  <Label fx:id="email" style="-fx-text-fill: #0d6efd; -fx-underline: true;" prefWidth="180.0">
                     <font>
                        <Font size="13.0" />
                     </font>
                  </Label>
               </children>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <children>
                  <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@img/icons8-smartphone-48.png" />
                     </image>
                  </ImageView>
                  <Label text="Mobile:" style="-fx-font-weight: bold; -fx-text-fill: #6c757d;" prefWidth="80.0">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
                  <Label fx:id="mobileNum" style="-fx-text-fill: #212529;" prefWidth="180.0">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
               </children>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="10.0">
               <children>
                  <JFXButton buttonType="RAISED" onAction="#onAddressClick" prefHeight="35.0" prefWidth="140.0" ripplerFill="WHITE" style="-fx-background-color: #17a2b8; -fx-background-radius: 18;" text="📍 View Address" textFill="WHITE">
                     <font>
                        <Font size="12.0" />
                     </font>
                  </JFXButton>
               </children>
            </HBox>
         </children>
      </VBox>

      <!-- Hidden address label for compatibility -->
      <Label fx:id="addressLabel" visible="false" />

      <!-- Communication Section -->
      <Rectangle arcHeight="20.0" arcWidth="20.0" fill="#ffffff" height="260.0" layoutX="30.0" layoutY="380.0" stroke="#dee2e6" strokeWidth="1.5" width="740.0" style="-fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.15), 8, 0, 0, 3);" />

      <Label layoutX="50.0" layoutY="395.0" text="💬 Message Center" style="-fx-font-weight: bold; -fx-text-fill: #495057;">
         <font>
            <Font size="18.0" />
         </font>
      </Label>

      <Label layoutX="50.0" layoutY="425.0" text="Communicate with blood recipients and coordinate donations" style="-fx-text-fill: #6c757d;">
         <font>
            <Font size="12.0" />
         </font>
      </Label>

      <!-- Chat Area -->
      <JFXTextArea fx:id="textArea" layoutX="50.0" layoutY="450.0" prefHeight="140.0" prefWidth="500.0" style="-fx-background-color: #f8f9fa; -fx-background-radius: 15; -fx-border-radius: 15; -fx-border-color: #dee2e6; -fx-border-width: 1;" wrapText="true" />

      <!-- Message Input Section -->
      <HBox layoutX="50.0" layoutY="600.0" spacing="10.0" alignment="CENTER_LEFT">
         <children>
            <TextField fx:id="textField" promptText="💭 Type your message here..." style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #ced4da; -fx-padding: 10;" prefWidth="400.0" />
            <JFXButton buttonType="RAISED" onAction="#send" prefHeight="40.0" prefWidth="90.0" ripplerFill="WHITE" style="-fx-background-color: #28a745; -fx-background-radius: 20;" text="📤 Send" textFill="WHITE">
               <font>
                  <Font size="12.0" />
               </font>
            </JFXButton>
         </children>
      </HBox>

      <!-- Action Buttons Section -->
      <VBox layoutX="570.0" layoutY="460.0" spacing="15.0">
         <children>
            <Label text="🚀 Quick Actions" style="-fx-font-weight: bold; -fx-text-fill: #495057;">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>

            <JFXButton buttonType="RAISED" prefHeight="40.0" prefWidth="180.0" style="-fx-background-color: #fd7e14; -fx-background-radius: 20;" text="📋 View My Donations" textFill="WHITE">
               <font>
                  <Font size="12.0" />
               </font>
            </JFXButton>

            <JFXButton buttonType="RAISED" prefHeight="40.0" prefWidth="180.0" style="-fx-background-color: #20c997; -fx-background-radius: 20;" text="🔔 Donation Alerts" textFill="WHITE">
               <font>
                  <Font size="12.0" />
               </font>
            </JFXButton>

            <JFXButton onAction="#back" prefHeight="40.0" prefWidth="180.0" style="-fx-background-color: #6c757d; -fx-background-radius: 20;" text="← Back to Dashboard" textFill="WHITE">
               <font>
                  <Font size="12.0" />
               </font>
            </JFXButton>
         </children>
      </VBox>

      <!-- Footer -->
      <Label layoutX="30.0" layoutY="670.0" text="💝 Thank you for being a life-saving hero! Every donation makes a difference." style="-fx-font-style: italic; -fx-text-fill: #6c757d;">
         <font>
            <Font size="11.0" />
         </font>
      </Label>
   </children>
</AnchorPane>
